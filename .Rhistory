abline(h=2013)
abline(v=1950-1981)
abline(h=2013, col=2)
abline(v=1950-1981, col=2)
calibrate(2013,10, BCAD=T)
abline(h=2013, col=2)
abline(v=1950-1981, col=2)
calibrate(2013,10, BCAD=T, prob=.68)
calibrate(2013,10, BCAD=T, prob=.95)
calibrate(2013,20, BCAD=T, prob=.95)
abline(v=1950-1981, col=2)
abline(h=2013, col=2)
dev.copy2pdf(file="~/31BC.pdf")
q()
calibrate(985, 45)
q()
source("clam.R")
ls()
pMC.age
pMC.age(107.5, .3)
q()
source("clam.R")
clam("MTE")
clam("MTE")
clam("MTE", 4)
clam("MTE", 4, slump=c(0,10, 192,197, 215,308, 308,314, 451,453, 584,665, 819,844, 867,874, 895,901, 951,961, 1209,1219, 1240,1314)
)
slump=c(0,10, 192,197, 215,308, 308,314, 451,453, 584,665, 819,844, 867,874, 895,901, 951,961, 1209,1219, 1240,1314)
abline(h=slump)
clam("MTE", 4, slump=c(0,10, 192,197, 215,308, 308,314, 451,453, 584,665, 819,844, 867,874, 895,901, 951,961, 1209,1219, 1240,1314), dmin=0, dmax=1500)
clam("MTE", 4, dmin=0, dmax=1500)
slump=c(0,10, 192,197, 215,308, 308,314, 451,453, 584,665, 819,844, 867,874, 895,901, 951,961, 1209,1219, 1240,1314)
abline(h=slump)
clam("MTE", 2, slump=c(0,10, 192,197, 215,308, 308,314, 451,453, 584,665, 819,844, 867,874, 895,901, 951,961, 1209,1219, 1240,1314), dmin=0, dmax=1500)
clam("MTE", 3, slump=c(0,10, 192,197, 215,308, 308,314, 451,453, 584,665, 819,844, 867,874, 895,901, 951,961, 1209,1219, 1240,1314), dmin=0, dmax=1500)
clam("MTE", 3, slump=c(0,10, 192,197, 215,308, 308,314, 451,453, 584,665, 819,844, 867,874, 895,901, 951,961, 1209,1219, 1240,1314), dmin=0, dmax=1500)
clam("MTE", 4, slump=c(0,10, 192,197, 215,308, 308,314, 451,453, 584,665, 819,844, 867,874, 895,901, 951,961, 1209,1219, 1240,1314), dmin=0, dmax=1500)
clam("MTE", 4, slump=c(0,10, 192,197, 215,308, 308,314, 451,453, 584,665, 819,844, 867,874, 895,901, 951,961, 1209,1219, 1240,1314), dmin=0, dmax=1500)
clam("MTE", 4, slump=c(1,10, 192,197, 215,308, 308,314, 451,453, 584,665, 819,844, 867,874, 895,901, 951,961, 1209,1219, 1240,1314), dmin=0, dmax=1500)
clam("MTE", 4, slump=c(1,10, 192,197, 215,308, 308,314, 451,453, 584,664, 819,844, 867,874, 895,901, 951,961, 1209,1219, 1240,1314), dmin=0, dmax=1500)
clam("MTE", 4, .5, slump=c(1,10, 192,197, 215,308, 308,314, 451,453, 584,664, 819,844, 867,874, 895,901, 951,961, 1209,1219, 1240,1314), dmin=0, dmax=1500)
Bacon("Clearlake", 20)
q()
calibrate(5e3,100)
calibrate(4500,100)
q()
calibrate(5811,20)
6670-6554
116/2
6670+58
q(0
y
q()
clam("manydates")
q()
clam
clam("LEN13_Pb_5")
clam("LEN13_Pb_5",4)
clam("LEN13_Pb_5",5)
clam(,5)
clam("LEN13_Pb_5",5)
clam("LEN13_Pb_5",5, every=.5)
clam("LEN13_Pb_5",5, every=.1)
clam("LEN13_Pb_5",5, every=.1)
clam("LEN13_Pb_5",5, every=.01)
source("clam.R")
clam("LEN13_Pb_5",5, every=.01)
clam("LEN13_Pb_5",5, every=.01)
source("clam.R")
clam("LEN13_Pb_5",5, every=.01)
dd
depthseq
clam("LEN13_Pb_5",5,dmax=571.5)
clam("manydates")
q()
clam
28/3
27/3
6715/4
6715/1.2
5595.833/4
3340/1.2
2783.333/4
q()
clam
clam(mirror=F)
rm(list=ls())
getwd()
q()
source("clam.R")
calibrate(130,20)
clam(,type=4)
clam(,type=4, outlier=6)
clam(,type=4, hiatus=450)
clam(,type=4, ageofdepth=100)
clam(,type=4, ageofdepth=450)
clam(,type=4, outlier=6, ageofdepth=450)
clam(,type=4, outlier=6, ageofdepth=450)clam(,type=4, hiatus=470, ageofdepth=450)
clam(,type=4, outlier=6, ageofdepth=450)clam(,type=4, hiatus=470, ageofdepth=450)
clam(,type=4, hiatus=470, ageofdepth=450)
dat <- read.table("~/Dropbox/Dissertations/diss_marks_1314_1415.dat", header=T)
dat
barplot(dat)
?barplot
barplot(dat[,2:3])
barplot(dat[,1], height=dat[,2:3])
barplot(dat[,1], height=as.matrix(dat[,2:3]))
?barplot
barplot(dat[,1], height=as.matrix(dat[,2:3]), horiz=T)
barplot(dat[,1], height=as.matrix(dat[,2:3]))
?barplot
barplot(dat[,1], height=as.matrix(dat[,2:3]), beside=T)
barplot(dat[,1], height=as.matrix(dat[,2:3]), beside=T, ylim=c(0,100))
barplot(dat[,2:3], hei)
dat <- t(read.table("~/Dropbox/Dissertations/diss_marks_1314_1415.dat", header=T))
dat
barplot(dat[,1], height=as.matrix(dat[,2:3]))
barplot(dat[1,1:2], height=as.matrix(dat[,2:3]))
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]))
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T)
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100))
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), )
?barplot
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=c(1,2))
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,])
?barplot
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation")
)
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"))
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n")
?barplot
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"))
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"), cols=c(2,4))
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"), col=c(2,4))
barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"), col=c(4,2))
?barplot
tmp <- barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"), col=c(4,2))
tmp
abline(v=tmp[1,1])
abline(h=tmp[2,1])
tmp <- barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"), col=c(4,2))
text(tmp, 1:4)
abline(v=tmp)
tmp <- barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"), col=c(4,2))
text(x=tmp, y=dat[2:3,1:2], 1:4)
tmp <- barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"), col=c(4,2))
tmp <- barplot(dat[1,1:2], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"), col=c(4,2))
tmp <- barplot(dat[1,], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"), col=c(4,2))
text(x=tmp, y=5+dat[2:3,], )
tmp <- barplot(dat[1,], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"), col=c(4,2))
text(x=tmp, y=5+dat[2:3,], )
tmp <- barplot(dat[1,], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"), col=c(4,2))
text(x=tmp, y=5+dat[2:3,], tmp[4:5,])
tmp
text(x=tmp, y=5+dat[2:3,], dat[4:5,])
png(file="~/Dropbox/Dissertations/avdiss_nodiss.png")
tmp <- barplot(dat[1,], height=as.matrix(dat[2:3,]), beside=T, ylim=c(0,100), names.arg=dat[1,], legend.text=c("dissertation", "no dissertation"), bty="n", args.legend=c(bty="n"), col=c(4,2))
text(x=tmp, y=5+dat[2:3,], dat[4:5,])
dev.off()
q()
calibrate(130,20)
calibrate(130,200)
q()
calibrate(130,20, BCAD=T)
calibrate(100,20, BCAD=T)
abline(v=1920)
abline(v=1760)
q()
cc <- read.table("IntCal13.14C")
pol <- cbind(1950-c(cc[,1], rev(cc[,1])), c(cc[,2]-cc[,3], rev(cc[,2]+cc[,3])))
plot(0, xlim=c(1000, 2000), ylim=c(0, 1100), xlab="AD", ylab="14C BP")
polygon(pol, col="darkgreen")
# deposition time estimated from the depths of the two historically dated tephras
deptime <- (1104-850) / (627.5 - 547.5) # yr / mm 
age <- function(d)
  1104 - deptime * (d-547.5)
# known tephras  
abline(v=c(1104, 850), lwd=4, col=2)
# sampled depths
abline(v=age(c(557.5, 562.5, 572.5, 577.5, 582.5, 587.5, 597.5, 602.5, 607.5)), lty=2)
# unknown tephras
abline(v=age(c(582.5, 602.5)), lwd=2, col=4)
 
  
  
  
cc <- read.table("IntCal13.14C")
pol <- cbind(1950-c(cc[,1], rev(cc[,1])), c(cc[,2]-cc[,3], rev(cc[,2]+cc[,3])))
plot(0, xlim=c(1000, 1200), ylim=c(0, 1100), xlab="AD", ylab="14C BP")
polygon(pol, col="darkgreen")
# deposition time estimated from the depths of the two historically dated tephras
deptime <- (1104-850) / (627.5 - 547.5) # yr / mm 
age <- function(d)
  1104 - deptime * (d-547.5)
# known tephras  
abline(v=c(1104, 850), lwd=4, col=2)
# sampled depths
abline(v=age(c(557.5, 562.5, 572.5, 577.5, 582.5, 587.5, 597.5, 602.5, 607.5)), lty=2)
# unknown tephras
abline(v=age(c(582.5, 602.5)), lwd=2, col=4)
 
  
  
  
cc <- read.table("IntCal13.14C")
pol <- cbind(1950-c(cc[,1], rev(cc[,1])), c(cc[,2]-cc[,3], rev(cc[,2]+cc[,3])))
plot(0, xlim=c(1000, 1200), ylim=c(800, 1100), xlab="AD", ylab="14C BP")
polygon(pol, col="darkgreen")
# deposition time estimated from the depths of the two historically dated tephras
deptime <- (1104-850) / (627.5 - 547.5) # yr / mm 
age <- function(d)
  1104 - deptime * (d-547.5)
# known tephras  
abline(v=c(1104, 850), lwd=4, col=2)
# sampled depths
abline(v=age(c(557.5, 562.5, 572.5, 577.5, 582.5, 587.5, 597.5, 602.5, 607.5)), lty=2)
# unknown tephras
abline(v=age(c(582.5, 602.5)), lwd=2, col=4)
cc <- read.table("IntCal13.14C")
pol <- cbind(1950-c(cc[,1], rev(cc[,1])), c(cc[,2]-cc[,3], rev(cc[,2]+cc[,3])))
plot(0, xlim=c(700, 1200), ylim=c(800, 1100), xlab="AD", ylab="14C BP")
polygon(pol, col="darkgreen")
# deposition time estimated from the depths of the two historically dated tephras
deptime <- (1104-850) / (627.5 - 547.5) # yr / mm 
age <- function(d)
  1104 - deptime * (d-547.5)
# known tephras  
abline(v=c(1104, 850), lwd=4, col=2)
# sampled depths
abline(v=age(c(557.5, 562.5, 572.5, 577.5, 582.5, 587.5, 597.5, 602.5, 607.5)), lty=2)
# unknown tephras
abline(v=age(c(582.5, 602.5)), lwd=2, col=4)
 
  
cc <- read.table("IntCal13.14C")
pol <- cbind(1950-c(cc[,1], rev(cc[,1])), c(cc[,2]-cc[,3], rev(cc[,2]+cc[,3])))
plot(0, xlim=c(700, 1200), ylim=c(800, 1300), xlab="AD", ylab="14C BP")
polygon(pol, col="darkgreen")
# deposition time estimated from the depths of the two historically dated tephras
deptime <- (1104-850) / (627.5 - 547.5) # yr / mm 
age <- function(d)
  1104 - deptime * (d-547.5)
# known tephras  
abline(v=c(1104, 850), lwd=4, col=2)
# sampled depths
abline(v=age(c(557.5, 562.5, 572.5, 577.5, 582.5, 587.5, 597.5, 602.5, 607.5)), lty=2)
# unknown tephras
abline(v=age(c(582.5, 602.5)), lwd=2, col=4)
 
  
  
  
cc <- read.table("IntCal13.14C")
pol <- cbind(1950-c(cc[,1], rev(cc[,1])), c(cc[,2]-cc[,3], rev(cc[,2]+cc[,3])))
plot(0, xlim=c(700, 1200), ylim=c(800, 1300), xlab="AD", ylab="14C BP")
polygon(pol, col="darkgreen")
# deposition time estimated from the depths of the two historically dated tephras
deptime <- (1104-850) / (627.5 - 547.5) # yr / mm 
age <- function(d)
  1104 - deptime * (d-547.5)
# known tephras  
abline(v=c(1104, 850), lwd=4, col=2)
# sampled depths
abline(v=age(c(557.5, 562.5, 572.5, 577.5, 582.5, 587.5, 597.5, 602.5, 607.5, 612.5)), lty=2)
# unknown tephras
abline(v=age(c(582.5, 602.5)), lwd=2, col=4)
cc <- read.table("IntCal13.14C")
pol <- cbind(1950-c(cc[,1], rev(cc[,1])), c(cc[,2]-cc[,3], rev(cc[,2]+cc[,3])))
plot(0, xlim=c(800, 1200), ylim=c(800, 1300), xlab="AD", ylab="14C BP")
polygon(pol, col="darkgreen")
# deposition time estimated from the depths of the two historically dated tephras
deptime <- (1104-850) / (627.5 - 547.5) # yr / mm 
age <- function(d)
  1104 - deptime * (d-547.5)
# known tephras  
abline(v=c(1104, 850), lwd=4, col=2)
# sampled depths
abline(v=age(c(557.5, 562.5, 572.5, 577.5, 582.5, 587.5, 597.5, 602.5, 607.5, 612.5)), lty=2)
# unknown tephras
abline(v=age(c(582.5, 602.5)), lwd=2, col=4)
 
  
dev.copy2pdf(file="Milkot.pdf")
q()
calibrate(2000)
calibrate(2000, BCAD=T)
abline(v=c(-31,31), lty=2, col=2)
calibrate(2000, 10, BCAD=T)
abline(v=c(-31,31), lty=2, col=2)
dev.copy2pdf(file="AD13_BC31.pdf)"
dev.copy2pdf(file="AD13_BC31.pdf")
q()
calibrate(2200,20)
abline(v=2168)
2168-1950
q()
calibrate(10000)
q()
calibrate(400, 30)
calibrate(400, 30, BCAD=T, prob=.68)
calibrate(767, 30, BCAD=T, prob=.68)
76-45
calibrate(1139, 30, BCAD=T, prob=.68)
969-882
87/2
calibrate(1230, 90, BCAD=T, prob=.68)
calibrate(2098, 30, BCAD=T, prob=.68)
calibrate(400, 30)
q()
calibrate(10000,500)
q()
rm(list=ls())
source("clam.R")
ls()
q()
calcurve <- cbind(1:2e4, 1:2e4, 1:2e3); #dummy curve, real one is more complex
caldist <- function(cage=Cage, error=Error, sdev=Sdev, times=Times, By=By)
 {
  theta <- seq(min(calcurve[,1]), max(calcurve[,1]), by=By);
  interpolate <- function(th, col)
   {
    if(th==calcurve[1,1]) {calcurve[1,col]}else
    if(th==calcurve[nrow(calcurve),1]) {calcurve[nrow(calcurve),col]}else
     {
      k <- min(which(calcurve[,1] > th));
      slope <- (calcurve[k-1,col]-calcurve[k,col])/(calcurve[k-1,1]-calcurve[k,1]);
      calcurve[k-1,col] + slope*(th-calcurve[k-1,1]);
     }
   }
  mu <- c();
  cerror <- c();
  for(i in 1:length(theta))
   {
    mu[i] <- interpolate(theta[i],2);
    cerror[i] <- interpolate(theta[i],3);
   }
  caldist <- dnorm(mu, cage, (error^2+cerror^2)^.5);
  cbind(theta, caldist/sum(caldist));
 }
caldist(1e3,1e2); 
q()
2425/1139
2425/769
q()
require(Plum)
q()
12*20
4*240
5/8
8/23
3/8
5/8
.857*15
.0857*15
.85*5
1440-773
773*2
8310+12660
20970-(16*700)
9770-7229.75
9770-7229.75-100
773*2
9770-8670
9770-7229.75-100-1000
q()
require(rbacon)
Bacon()
layout(matrix(1:4, nrow=4))
for(i in 1:4) proxy.ghost(i)
for(i in 3:6) proxy.ghost(i)
layout(matrix(1:4, nrow=4))
for(i in c(1,3,4,6)) proxy.ghost(i)
for(i in c(1,3,4,5)) proxy.ghost(i)
for(i in c(1,3,4,7)) proxy.ghost(i)
layout(matrix(1:4, nrow=4))
for(i in c(1,3,4,7)) proxy.ghost(i)
require(rbacon)
Bacon.hist
?hist
?image
42/12
q()
730/4
183+71
750+600+100
1450*2*5
350+800+600+100
1850*2*5
296455+379091
675546/2
296455+379091+32727
((296455+379091)/2)+32727
296455/2
148227.5+125455+36000
1543318+(296455/2)+125455+(379091/2)+54545+36000
2097091+370500
q()
require(clam)
clam()
q()
require(clam)
clam()
install.packages('clam')
reload('clam')
clam()
require(clam)
clam()
q()
require(clam)
clam()
cl <- "~/Dropbox/devsoftware/clam"
require(devtools)
build(cl);install(cl);reload(cl)
clam()
gc()
q()
cl
require(devtools)
check(cl)
usethis::use_package_doc(cl)
setwd("~/Dropbox/devsoftware/clam")
usethis::use_package_doc(cl)
usethis::use_package_doc(cl)
check()
document()
check()
document()
check()
document()
check()
check()
document()
check()
check()
usethis::use_package_doc(cl)
check()
check()
document()
document()
check()
?clam
document()
check()
?clam
q()
require(devtools)
document()
build()
document()
q()
require(devtools)
document()
detach("package:rintcal")
document()
q()
require(devtools)
document()
document()
document()
q()
require(devtools)
document()
calibrate()
calibrate
ccurve
document()
document()
check()
document()
document()
check()
document()
document()
document()
check()
rintcal::ccurve
document()
document()
check()
document()
check()
document()
build()
document()
document()
build()
check()
document()
build()
check()
check()
check()
document()
build_vignettes()
build_vignettes()
build_vignettes()
check_win_devel()
version
build()
build()
spell_check()
release()
check_rhub()
release()
install.packages('drake')
require(drake)
drake_examples()
drake_example()
?drake
uninstall('drake')
remove.packages('drake')
q()
